================================================================
PROJETO: Refatoração do Motor de Renderização
================================================================
Última atualização: 26 de Maio de 2024
Status: [CONCLUÍDO]

Objetivo: Desacoplar a lógica de renderização da lógica de jogo através da introdução de um sistema de "Câmara". Isto tornará o código mais limpo, flexível e fácil de manter, permitindo alterações visuais (como POV, zoom ou escala) sem quebrar a lógica do jogo.

----------------------------------------------------------------

================================================================
FASE 1: FUNDAÇÃO DA CLASSE CAMERA
================================================================
Status: [CONCLUÍDO]
----------------------------------------------------------------
[x] 1.1 - **Definir a Classe Camera:** Criar a estrutura básica `class Camera { ... }` no ficheiro `game.js`.

[x] 1.2 - **Adicionar Propriedades Essenciais:** Dotar a câmara com as suas propriedades de estado, como `perspective`, `verticalScale`, e a referência ao `canvas`.

[x] 1.3 - **Criar Instância Global:** Instanciar um único objeto `camera` no início do jogo para ser usado por todo o sistema.

================================================================
FASE 2: CENTRALIZAÇÃO DA LÓGICA DE PROJEÇÃO
================================================================
Status: [CONCLUÍDO]
----------------------------------------------------------------
[x] 2.1 - **Mover Funções para a Câmara:** Transformar as funções globais `project`, `screenToGrid` e `getTileCenter` em métodos da classe `Camera`.

[x] 2.2 - **Adaptar Métodos:** Fazer com que os novos métodos da câmara usem as suas propriedades internas (ex: `this.verticalScale`) para os cálculos.

[x] 2.3 - **Substituir Chamadas no Código:** Percorrer todo o `game.js` e substituir as chamadas às funções antigas pelas chamadas aos novos métodos da instância da câmara (ex: `project(c, r)` passa a `camera.project(c, r)`).

================================================================
FASE 3: IMPLEMENTAÇÃO E TESTE
================================================================
Status: [CONCLUÍDO]
----------------------------------------------------------------
[x] 3.1 - **Aplicar a Correção Visual:** Com o sistema de câmara implementado, resolver o bug original de forma limpa, definindo `camera.verticalScale = 0.95` na inicialização do jogo.

[x] 3.2 - **Teste de Regressão Completo:** Verificar exaustivamente se todas as funcionalidades do jogo continuam a operar como esperado:
    - [x] Construção de torres.
    - [x] Seleção e pré-visualização de torres.
    - [x] Deteção de cliques do rato.
    - [x] Movimento e renderização de monstros e projéteis.
    - [x] Comportamento do Ghost.

[x] 3.3 - **Limpeza de Código:** Remover as funções globais antigas (`project`, `screenToGrid`, `getTileCenter`) que foram substituídas pelos métodos da câmara.
